<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | picoes</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Pico Entity System for JavaScript"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="picoes"><meta property="twitter:description" content="Pico Entity System for JavaScript"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/ayebear/picoes"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/entity.js~Entity.html">Entity</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/world.js~World.html">World</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="picoes">PicoES</h1><p><img src="https://github.com/ayebear/picoes/actions/workflows/node.js.yml/badge.svg" alt="Build Status">
<a href="https://coveralls.io/github/ayebear/picoes?branch=master"><img src="https://coveralls.io/repos/github/ayebear/picoes/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://ayebear.com/picoes/source.html"><img src="https://ayebear.com/picoes/badge.svg" alt="Documentation Status"></a></p>
<h3 id="table-of-contents">Table Of Contents</h3><ul>
<li><a href="#about">About</a><ul>
<li><a href="#features">Features</a></li>
<li><a href="#terminology">Terminology</a></li>
<li><a href="#license">License</a></li>
<li><a href="#author">Author</a></li>
</ul>
</li>
<li><a href="#instructions">Instructions</a><ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#examples">Examples</a></li>
</ul>
</li>
</ul>
<h2 id="about">About</h2><p>Pico Entity System for JavaScript (ES6+).</p>
<p>Read up on what an ECS is here: <a href="https://en.wikipedia.org/wiki/Entity_component_system">https://en.wikipedia.org/wiki/Entity_component_system</a></p>
<h3 id="features">Features</h3><ul>
<li><strong>Simple query syntax</strong><ul>
<li><code>world.each(&apos;a&apos;, &apos;b&apos;, ({a, b}) =&gt; { a.foo = b.bar })</code></li>
<li>See the examples below for more advanced usage, or the <a href="https://ayebear.com/picoes/class/src/world.js~World.html#instance-method-each">reference docs</a></li>
</ul>
</li>
<li><strong>Optional registration of systems and components</strong><ul>
<li>Once a <code>World</code> instance is made, you can arbitrarily set components on entities and query them</li>
<li>This is possible due to the use of strings as component keys</li>
</ul>
</li>
<li><strong>Automatic dependency injection</strong><ul>
<li>No need to pass state to each system, can have a single context that gets injected into all systems automatically</li>
<li>Registered components also get their parent entity injected</li>
</ul>
</li>
<li><strong>Balanced performance</strong><ul>
<li>See <a href="https://github.com/noctjs/ecs-benchmark">ECS benchmark comparison</a></li>
<li>Entity/Component adding/removing performance is good with PicoES, which is important for many games.</li>
<li>Continued research is being done to find new ways to make PicoES faster. There are many things such as pools, bit arrays, better indexing structures, and more that could be done to achieve this.</li>
</ul>
</li>
</ul>
<h3 id="terminology">Terminology</h3><ul>
<li><strong>Component:</strong> Holds some related data<ul>
<li>Example: Position, Velocity, Health</li>
</ul>
</li>
<li><strong>Entity:</strong> Refers to a collection of components<ul>
<li>Example: Position and Health could represent a player</li>
</ul>
</li>
<li><strong>System:</strong> Logic loop that processes entities<ul>
<li>Example: Movement system which handles positions and velocities</li>
</ul>
</li>
<li><strong>World:</strong> The entry point of all PicoES features. Can register components/systems and create/query entities in a self-contained object - which avoids the use of singletons.</li>
</ul>
<h3 id="license">License</h3><p>MIT</p>
<h3 id="author">Author</h3><p>Eric Hebert</p>
<h2 id="instructions">Instructions</h2><h3 id="setup">Setup</h3><p>You&apos;ll normally want to install PicoES as a dev dependency, and have it transpiled into the build of your application. PicoES uses features such as import/export syntax, so you may need updated tools to use it. It has been used successfully with node 14+ and parcel 2+.</p>
<h4 id="yarn">Yarn</h4><pre><code class="lang-bash"><code class="source-code prettyprint">yarn add --dev picoes</code>
</code></pre>
<h4 id="npm">NPM</h4><pre><code class="lang-bash"><code class="source-code prettyprint">npm i -D picoes</code>
</code></pre>
<h3 id="documentation">Documentation</h3><p>The full reference documentation can be found here:</p>
<p><a href="https://ayebear.com/picoes">PicoES Documentation</a></p>
<h3 id="examples">Examples</h3><h4 id="unregistered-components-and-queries">Unregistered components and queries</h4><pre><code class="lang-javascript"><code class="source-code prettyprint">import { World } from &apos;picoes&apos;

// Create a world to store entities in
const world = new World()

// Create a player entity with health component
const player = world.entity().set(&apos;health&apos;, { value: 100 })

// Create enemies
world.entity().set(&apos;damages&apos;, 10)
world.entity().set(&apos;damages&apos;, 30)

// Apply damage to player from enemies
world.each(&apos;damages&apos;, ({ damages }) =&gt; {
  player.get(&apos;health&apos;).value -= damages
})

// Player now has reduced health
console.assert(player.get(&apos;health&apos;).value === 60)</code>
</code></pre>
<h4 id="system-and-component-registration">System and component registration</h4><pre><code class="lang-javascript"><code class="source-code prettyprint">import { World } from &apos;picoes&apos;

// Create a reusable vector component
class Vec2 {
  constructor(x = 0, y = 0) {
    this.x = x
    this.y = y
  }
}

// Define a system for handling movement
class Movement {
  run(dt) {
    this.world.each(&apos;position&apos;, &apos;velocity&apos;, ({ position, velocity }) =&gt; {
      position.x += velocity.x * dt
      position.y += velocity.y * dt
    })
  }
}

// Create a world, register components and systems
const world = new World({
  components: { position: Vec2, velocity: Vec2 },
  systems: [Movement],
})

// Create an entity at (0,0) with a velocity
const entity = world.entity().set(&apos;position&apos;).set(&apos;velocity&apos;, 10, 10)

// Run the systems (typically would use a ticker and pass dt)
world.run(16)

// See that the entity has moved
const { x, y } = entity.get(&apos;position&apos;)
console.log(x, y) // 160 160</code>
</code></pre>
<p>For more information, refer to the <a href="https://ayebear.com/picoes">full documentation</a>.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
